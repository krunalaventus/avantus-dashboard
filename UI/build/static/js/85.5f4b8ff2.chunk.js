(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[85],{1165:function(e,a,t){"use strict";t.r(a);var n=t(408);t.d(a,"default",(function(){return n.a}))},1236:function(e,a,t){"use strict";var n=t(624);Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e,a){var t=l.default.memo(l.default.forwardRef((function(a,t){return l.default.createElement(c.default,(0,r.default)({ref:t},a),e)})));0;return t.muiName=c.default.muiName,t};var r=n(t(151)),l=n(t(0)),c=n(t(1165))},1268:function(e,a,t){"use strict";var n=t(624);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t(0)),l=(0,n(t(1236)).default)(r.default.createElement("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight");a.default=l},1269:function(e,a,t){"use strict";var n=t(624);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t(0)),l=(0,n(t(1236)).default)(r.default.createElement("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"KeyboardArrowLeft");a.default=l},1282:function(e,a,t){"use strict";var n=t(624);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t(0)),l=(0,n(t(1236)).default)(r.default.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage");a.default=l},1283:function(e,a,t){"use strict";var n=t(624);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t(0)),l=(0,n(t(1236)).default)(r.default.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage");a.default=l},1363:function(e,a,t){"use strict";var n=t(1),r=t(4),l=t(0),c=(t(3),t(2)),s=t(8),o=l.forwardRef((function(e,a){var t=e.classes,s=e.className,o=e.component,i=void 0===o?"div":o,u=Object(r.a)(e,["classes","className","component"]);return l.createElement(i,Object(n.a)({ref:a,className:Object(c.default)(t.root,s)},u))}));a.a=Object(s.a)({root:{width:"100%",overflowX:"auto"}},{name:"MuiTableContainer"})(o)},1436:function(e,a,t){"use strict";t.d(a,"a",(function(){return m}));var n=t(13),r=t(0),l=t.n(r),c=t(1196),s=t(1199),o=t(646),i=t(650),u=t(37),d=Object(c.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));function m(e){var a=e.items,t=void 0===a?[]:a;e.fetchSelected;console.log("Data",t);var r=d(),c=l.a.useState(""),m=Object(n.a)(c,2),p=m[0],f=(m[1],Object(u.h)());return l.a.createElement("div",null,l.a.createElement(o.a,{className:r.formControl},l.a.createElement(i.a,{value:p,onChange:function(e){console.log(e),f.push("/apps/dashboards/analytics/".concat(e.target.value),!0),window.location.reload(!1)},displayEmpty:!0,className:r.selectEmpty,inputProps:{"aria-label":""}},l.a.createElement(s.a,{value:"",disabled:!0},"Select Campaign"),t&&t.map((function(e,a){return l.a.createElement(s.a,{key:a,value:e._id},e.name)})))))}},2679:function(e,a,t){"use strict";t.r(a);var n=t(19),r=t.n(n),l=t(42),c=t(13),s=t(175),o=t(242),i=t(0),u=t.n(i),d=t(5),m=t(37),p=t(137),f=t(650),b=t(1196),g=t(1199),h=t(646),v=t(125),E=t(1197),j=t(581),N=t(207),O=t(1218),x=t(209),y=t(27),w=t(29),P=t(20),S=t(46),A=t.n(S),L=Object(P.b)("leadsApp/user/getUserData",Object(l.a)(r.a.mark((function e(){var a,t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.get("/api/leads-app/user");case 2:return a=e.sent,e.next=5,a.data;case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))),C=Object(P.d)({name:"leadsApp/user",initialState:{},reducers:{},extraReducers:Object(w.a)({},L.fulfilled,(function(e,a){return a.payload}))}).reducer,k=Object(P.b)("leadsApp/leads/getLeads",function(){var e=Object(l.a)(r.a.mark((function e(a,t){var n,l,c,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getState,a=a||n().leadsApp.leads.routeParams,console.log("Selected Value is",n().leadsApp.leads.selectedValue),l=localStorage.getItem("token"),n().leadsApp.leads.selectedValue,e.next=7,A.a.get("".concat("http://13.58.82.135/api/api/","leads/getAllLeads/").concat(a.id),{headers:{Authorization:l}});case 7:return c=e.sent,e.next=10,c.data.data;case 10:return s=e.sent,e.abrupt("return",{data:s,routeParams:a});case 12:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()),H=Object(P.b)("contactsApp/contacts/removeLeads",function(){var e=Object(l.a)(r.a.mark((function e(a,t){var n,l,c,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.dispatch,t.getState,!0!==confirm("Do You want to delete this entry?")){e.next=12;break}return l=localStorage.getItem("token"),e.next=6,A.a.post("".concat("http://13.58.82.135/api/api/","leads/delete"),{contactIds:a},{headers:{Authorization:l}});case 6:return c=e.sent,e.next=9,c.data;case 9:return s=e.sent,n(k()),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()),R=Object(P.c)({}),T=R.getSelectors((function(e){return e.leadsApp.leads})),I=T.selectAll,M=(T.selectById,Object(P.d)({name:"leadsApp/leads",initialState:R.getInitialState({searchText:"",routeParams:{},leadsDialog:{type:"new",props:{open:!1},data:null}}),reducers:{setleadsSearchText:{reducer:function(e,a){e.searchText=a.payload},prepare:function(e){return{payload:e.target.value||""}}},openNewLeadsDialog:function(e,a){e.leadsDialog={type:"new",props:{open:!0},data:null}},closeNewLeadsDialog:function(e,a){e.leadsDialog={type:"new",props:{open:!1},data:null}},openEditLeadsDialog:function(e,a){e.leadsDialog={type:"edit",props:{open:!0},data:a.payload}},closeEditLeadsDialog:function(e,a){e.leadsDialog={type:"edit",props:{open:!1},data:null}}},extraReducers:Object(w.a)({},k.fulfilled,(function(e,a){var t=a.payload,n=t.data,r=t.routeParams;R.setAll(e,n),e.routeParams=r,e.searchText=""}))})),D=M.actions,_=D.setleadsSearchText,z=(D.openNewLeadsDialog,D.closeNewLeadsDialog,D.openEditLeadsDialog,D.closeEditLeadsDialog,M.reducer);var F=function(e){var a=Object(d.c)(),t=Object(d.d)((function(e){return e.leadsApp.leads.searchText})),n=Object(d.d)(y.e);return u.a.createElement("div",{className:"flex flex-1 items-center justify-between p-4 sm:p-24"},u.a.createElement("div",{className:"flex flex-shrink items-center sm:w-224"},u.a.createElement("div",{className:"flex items-center"},u.a.createElement(v.a,{animation:"transition.expandIn",delay:300},u.a.createElement(E.a,{className:"text-32"},"account_box")),u.a.createElement(v.a,{animation:"transition.slideLeftIn",delay:300},u.a.createElement(x.a,{variant:"h6",className:"mx-12 hidden sm:flex"},"Leads")))),u.a.createElement("div",{className:"flex flex-1 items-center justify-center px-8 sm:px-12"},u.a.createElement(O.a,{theme:n},u.a.createElement(v.a,{animation:"transition.slideLeftIn",delay:300},u.a.createElement(N.a,{className:"flex p-4 items-center w-full max-w-512 h-48 px-8 py-4 rounded-8",elevation:1},u.a.createElement(E.a,{color:"action"},"search"),u.a.createElement(j.a,{placeholder:"Search for anything",className:"flex flex-1 px-16",disableUnderline:!0,fullWidth:!0,value:t,inputProps:{"aria-label":"Search"},onChange:function(e){return a(_(e))}}))))))},B=t(28),U=t(1235),W=t(645),G=t(1226),J=t(1205),V=t(430),K=t(1157);var X=function(e){var a=Object(d.d)((function(e){return e.auth.user})),t=Object(d.c)(),n=e.selectedLeadIds,r=Object(i.useState)(null),l=Object(c.a)(r,2),s=l[0],o=l[1];function m(){o(null)}return"AsCustomer"===a.role?"":u.a.createElement(u.a.Fragment,null,u.a.createElement(W.a,{className:"p-0","aria-owns":s?"selectedLeadsMenu":null,"aria-haspopup":"true",onClick:function(e){o(e.currentTarget)}},u.a.createElement(E.a,null,"more_horiz")),u.a.createElement(V.a,{id:"selectedLeadsMenu",anchorEl:s,open:Boolean(s),onClose:m},u.a.createElement(K.a,null,u.a.createElement(g.a,{onClick:function(){t(H(n)),m()}},u.a.createElement(G.a,{className:"min-w-40"},u.a.createElement(E.a,null,"delete")),u.a.createElement(J.a,{primary:"Remove"})))))},Y=t(12),q=t(173),Q=t(1208),Z=t(1317),$=t(1320),ee=t(1308),ae=t(1363),te=t(1318),ne=t(1475),re=t(1319),le=t(1551),ce=t(1343),se=t(2),oe=t(1283),ie=t.n(oe),ue=t(1269),de=t.n(ue),me=t(1268),pe=t.n(me),fe=t(1282),be=t.n(fe),ge=t(44),he=function(e){var a=Object(ge.a)(),t=e.count,n=e.page,r=e.rowsPerPage,l=e.onChangePage;return u.a.createElement("div",{className:"flex-shrink-0 px-12 overflow-hidden"},u.a.createElement(W.a,{onClick:function(e){l(e,0)},disabled:0===n,"aria-label":"first page"},"rtl"===a.direction?u.a.createElement(be.a,null):u.a.createElement(ie.a,null)),u.a.createElement(W.a,{onClick:function(e){l(e,n-1)},disabled:0===n,"aria-label":"previous page"},"rtl"===a.direction?u.a.createElement(pe.a,null):u.a.createElement(de.a,null)),u.a.createElement(W.a,{onClick:function(e){l(e,n+1)},disabled:n>=Math.ceil(t/r)-1,"aria-label":"next page"},"rtl"===a.direction?u.a.createElement(de.a,null):u.a.createElement(pe.a,null)),u.a.createElement(W.a,{onClick:function(e){l(e,Math.max(0,Math.ceil(t/r)-1))},disabled:n>=Math.ceil(t/r)-1,"aria-label":"last page"},"rtl"===a.direction?u.a.createElement(ie.a,null):u.a.createElement(be.a,null)))},ve=u.a.forwardRef((function(e,a){var t=e.indeterminate,n=Object(q.a)(e,["indeterminate"]),r=u.a.useRef(),l=a||r;return u.a.useEffect((function(){l.current.indeterminate=t}),[l,t]),u.a.createElement(u.a.Fragment,null,u.a.createElement(Q.a,Object.assign({ref:l},n)))})),Ee=function(e){var a=e.columns,t=e.data,n=(e.onRowClick,Object(ce.useTable)({columns:a,data:t,autoResetPage:!0},ce.useGlobalFilter,ce.useSortBy,ce.usePagination,ce.useRowSelect,(function(e){e.allColumns.push((function(e){return[{id:"selection",sortable:!1,Header:function(e){var a=e.getToggleAllRowsSelectedProps;return u.a.createElement("div",null,u.a.createElement(ve,a()))},Cell:function(e){var a=e.row;return u.a.createElement("div",null,u.a.createElement(ve,Object.assign({},a.getToggleRowSelectedProps(),{onClick:function(e){return e.stopPropagation()}})))}}].concat(Object(Y.a)(e))}))}))),r=n.getTableProps,l=n.headerGroups,c=n.prepareRow,s=n.page,o=n.gotoPage,i=n.setPageSize,d=n.state,m=d.pageIndex,p=d.pageSize;return u.a.createElement("div",{className:"flex flex-col min-h-full sm:border-1 sm:rounded-16 overflow-hidden"},u.a.createElement(ae.a,{className:"flex flex-1"},u.a.createElement(Z.a,Object.assign({},r(),{stickyHeader:!0}),u.a.createElement(te.a,null,l.map((function(e){return u.a.createElement(re.a,e.getHeaderGroupProps(),e.headers.map((function(e){return u.a.createElement(ee.a,Object.assign({className:"whitespace-no-wrap p-4 md:p-12"},e.sortable?e.getHeaderProps(e.getSortByToggleProps()):e.getHeaderProps()),e.render("Header"),e.sortable?u.a.createElement(le.a,{active:e.isSorted,direction:e.isSortedDesc?"desc":"asc"}):null)})))}))),u.a.createElement($.a,null,s.map((function(e,a){return c(e),u.a.createElement(re.a,Object.assign({},e.getRowProps(),{className:"truncate cursor-pointer"}),e.cells.map((function(e){return u.a.createElement(ee.a,Object.assign({},e.getCellProps(),{className:Object(se.default)("p-4 md:p-12",e.column.className)}),e.render("Cell"))})))}))))),u.a.createElement(ne.a,{component:"div",classes:{root:"flex-shrink-0 border-t-1"},rowsPerPageOptions:[5,10,25,100,{label:"All",value:t.length+1}],colSpan:5,count:t.length,rowsPerPage:p,page:m,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!1},onChangePage:function(e,a){o(a)},onChangeRowsPerPage:function(e){i(Number(e.target.value))},ActionsComponent:he}))};var je=function(e){var a=Object(d.c)(),t=Object(d.d)(I),n=Object(d.d)((function(e){return e.leadsApp.leads.searchText})),r=Object(d.d)((function(e){return e.leadsApp.user})),l=Object(i.useState)(null),s=Object(c.a)(l,2),o=s[0],m=s[1],p=u.a.useMemo((function(){return[{Header:function(e){var a=e.selectedFlatRows,t=a.map((function(e){return e.original.id}));return a.length>0&&u.a.createElement(X,{selectedLeadIds:t})},accessor:"avatar",Cell:function(e){var a=e.row;return u.a.createElement(U.a,{className:"mx-8",alt:a.original.name,src:a.original.avatar})},className:"justify-center",width:64,sortable:!1},{Header:"Email",accessor:"email",className:"font-bold",sortable:!0},{Header:"Title",accessor:"Title",className:"font-bold",sortable:!0},{Header:"First Name",accessor:"firstName",className:"font-bold",sortable:!0},{Header:"Last Name",accessor:"lastName",className:"font-bold",sortable:!0},{Header:"Campaign Name",accessor:"campaignName",className:"font-bold",sortable:!0},{Header:"Phone",accessor:"phone",className:"font-bold",sortable:!0},{Header:"LinkedIn Url",accessor:"linkedinUrl",className:"font-bold",sortable:!0},{Header:"Company Name",accessor:"companyName",className:"font-bold",sortable:!0},{Header:"Icebreaker",accessor:"icebreaker",className:"font-bold",sortable:!0},{Header:"Job Title",accessor:"jobTitle",className:"font-bold",sortable:!0},{Header:"Website",accessor:"Website",className:"font-bold",sortable:!0},{Header:"Industry",accessor:"Industry",className:"font-bold",sortable:!0},{Header:"LinkedIn",accessor:"LinkedIn",className:"font-bold",sortable:!0},{Header:"Full Name",accessor:"fullName",className:"font-bold",sortable:!0},{Header:"Location",accessor:"Location",className:"font-bold",sortable:!0},{Header:"Sent Step",accessor:"sentStep",className:"font-bold",sortable:!0},{Header:"Sent At",accessor:"sentAt",className:"font-bold",sortable:!0},{Header:"Replied At",accessor:"repliedAt",className:"font-bold",sortable:!0},{Header:"Opened At",accessor:"openedAt",className:"font-bold",sortable:!0},{Header:"Boounced At",accessor:"bouncedAt",className:"font-bold",sortable:!0},{Header:"Unsubscribed At",accessor:"unsubscribedAt",className:"font-bold",sortable:!0},{Header:"Clicked At",accessor:"clickedAt",className:"font-bold",sortable:!0},{Header:"Gmail Label",accessor:"flag",className:"font-bold",sortable:!0}]}),[a,r.starred]);return Object(i.useEffect)((function(){var e;t&&m(0===(e=n).length?t:B.a.filterArrayByString(t,e))}),[t,n]),o?0===o.length?u.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full"},u.a.createElement(x.a,{color:"textSecondary",variant:"h5"},"There are no Leads!")):u.a.createElement(v.a,{animation:"transition.slideUpIn",delay:300},u.a.createElement(Ee,{columns:p,data:o})):null};t(97),t(1225),t(1158),t(1159),Object(b.a)((function(e){return{listItem:{color:"inherit!important",textDecoration:"none!important",height:40,width:"calc(100% - 16px)",borderRadius:"0 20px 20px 0",paddingLeft:24,paddingRight:12,"&.active":{backgroundColor:e.palette.secondary.main,color:"".concat(e.palette.secondary.contrastText,"!important"),pointerEvents:"none","& .list-item-icon":{color:"inherit"}},"& .list-item-icon":{marginRight:16}}}}));var Ne=t(108),Oe=Object(Ne.c)({leads:z,user:C}),xe=(t(1436),Object(b.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})));a.default=Object(o.a)("leadsApp",Oe)((function(e){var a=Object(d.d)((function(e){return e.auth.user})),t=Object(d.c)(),n=xe(),o=u.a.useState(""),b=Object(c.a)(o,2),v=b[0],E=b[1],j=u.a.useState([]),N=Object(c.a)(j,2),O=N[0],x=N[1],y=Object(i.useRef)(null),w=Object(m.j)(),P=Object(m.h)();return Object(i.useEffect)((function(){Object(l.a)(r.a.mark((function e(){var a,t,n,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("token"),e.next=3,fetch("".concat("http://13.58.82.135/api/api/","leads/allCampaigns"),{headers:{Authorization:a}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,l=n.data,E(l);case 9:case"end":return e.stop()}}),e)})))()}),[]),Object(p.b)((function(){t(k(w)),t(L())}),[t,w]),console.log("=========================================="),console.log(a),u.a.createElement(u.a.Fragment,null,u.a.createElement(s.a,{classes:{contentWrapper:"p-0 sm:p-24 h-full",content:"flex flex-col h-full",leftSidebar:"w-256 border-0",header:"min-h-72 h-72 sm:h-136 sm:min-h-136",wrapper:"min-h-0"},header:u.a.createElement(F,{pageLayout:y}),content:u.a.createElement(u.a.Fragment,null,u.a.createElement(h.a,{className:n.formControl},u.a.createElement(f.a,{value:O,onChange:function(e){x(e.target.value),P.push("/apps/leads/".concat(e.target.value))},displayEmpty:!0,className:n.selectEmpty,inputProps:{"aria-label":""}},u.a.createElement(g.a,{value:"",disabled:!0},"Select Campaign"),v&&v.map((function(e,a){return u.a.createElement(g.a,{key:a,value:e._id},e.name)})))),u.a.createElement(je,null)),sidebarInner:!0,ref:y,innerScroll:!0}))}))}}]);