(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[86],{1165:function(e,a,t){"use strict";t.r(a);var n=t(408);t.d(a,"default",(function(){return n.a}))},1236:function(e,a,t){"use strict";var n=t(624);Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e,a){var t=l.default.memo(l.default.forwardRef((function(a,t){return l.default.createElement(c.default,(0,r.default)({ref:t},a),e)})));0;return t.muiName=c.default.muiName,t};var r=n(t(151)),l=n(t(0)),c=n(t(1165))},1268:function(e,a,t){"use strict";var n=t(624);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t(0)),l=(0,n(t(1236)).default)(r.default.createElement("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight");a.default=l},1269:function(e,a,t){"use strict";var n=t(624);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t(0)),l=(0,n(t(1236)).default)(r.default.createElement("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"KeyboardArrowLeft");a.default=l},1282:function(e,a,t){"use strict";var n=t(624);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t(0)),l=(0,n(t(1236)).default)(r.default.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage");a.default=l},1283:function(e,a,t){"use strict";var n=t(624);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t(0)),l=(0,n(t(1236)).default)(r.default.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage");a.default=l},1363:function(e,a,t){"use strict";var n=t(1),r=t(4),l=t(0),c=(t(3),t(2)),s=t(8),o=l.forwardRef((function(e,a){var t=e.classes,s=e.className,o=e.component,i=void 0===o?"div":o,d=Object(r.a)(e,["classes","className","component"]);return l.createElement(i,Object(n.a)({ref:a,className:Object(c.default)(t.root,s)},d))}));a.a=Object(s.a)({root:{width:"100%",overflowX:"auto"}},{name:"MuiTableContainer"})(o)},1437:function(e,a,t){"use strict";t.d(a,"a",(function(){return m}));var n=t(13),r=t(0),l=t.n(r),c=t(1196),s=t(1199),o=t(646),i=t(650),d=t(37),u=Object(c.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));function m(e){var a=e.items,t=void 0===a?[]:a,r=e.fetchSelected;console.log("Data",r);var c=u(),m=l.a.useState(""),p=Object(n.a)(m,2),f=(p[0],p[1],Object(d.h)());return t.length<=0?"":l.a.createElement("div",null,l.a.createElement(o.a,{className:c.formControl},l.a.createElement(i.a,{value:null!==r&&void 0!==r?r:"",onChange:function(e){console.log(e),f.push("/apps/dashboards/analytics/".concat(e.target.value),!0),window.location.reload(!1)},displayEmpty:!0,className:c.selectEmpty,inputProps:{"aria-label":""}},l.a.createElement(s.a,{value:"",disabled:!0},"Select Campaign"),t&&t.map((function(e,a){return l.a.createElement(s.a,{key:a,value:e._id},e.name)})))))}},2680:function(e,a,t){"use strict";t.r(a);var n,r=t(19),l=t.n(r),c=t(42),s=t(13),o=t(175),i=t(242),d=t(0),u=t.n(d),m=t(5),p=t(37),f=t(137),b=t(650),g=t(1196),h=t(1199),v=t(646),E=t(125),j=t(1197),N=t(581),O=t(207),x=t(1218),w=t(209),y=t(27),P=t(29),S=t(20),A=t(46),L=t.n(A),C=Object(S.b)("leadsApp/user/getUserData",Object(c.a)(l.a.mark((function e(){var a,t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("/api/leads-app/user");case 2:return a=e.sent,e.next=5,a.data;case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))),k=Object(S.d)({name:"leadsApp/user",initialState:{},reducers:{},extraReducers:Object(P.a)({},C.fulfilled,(function(e,a){return a.payload}))}).reducer,H=Object(S.b)("leadsApp/leads/getLeads",function(){var e=Object(c.a)(l.a.mark((function e(a,t){var n,r,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getState,a=a||n().leadsApp.leads.routeParams,console.log("Selected Value is",n().leadsApp.leads.selectedValue),r=localStorage.getItem("token"),n().leadsApp.leads.selectedValue,e.next=7,L.a.get("".concat("http://13.58.82.135/api/api/","leads/getAllLeads/").concat(a.id),{headers:{Authorization:r}});case 7:return c=e.sent,e.next=10,c.data.data;case 10:return s=e.sent,e.abrupt("return",{data:s,routeParams:a});case 12:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()),R=Object(S.b)("contactsApp/contacts/removeLeads",function(){var e=Object(c.a)(l.a.mark((function e(a,t){var n,r,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.dispatch,t.getState,!0!==confirm("Do You want to delete this entry?")){e.next=12;break}return r=localStorage.getItem("token"),e.next=6,L.a.post("".concat("http://13.58.82.135/api/api/","leads/delete"),{contactIds:a},{headers:{Authorization:r}});case 6:return c=e.sent,e.next=9,c.data;case 9:return s=e.sent,n(H()),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()),T=Object(S.c)({}),I=T.getSelectors((function(e){return e.leadsApp.leads})),M=I.selectAll,D=(I.selectById,Object(S.d)({name:"leadsApp/leads",initialState:T.getInitialState({searchText:"",routeParams:{},leadsDialog:{type:"new",props:{open:!1},data:null}}),reducers:{setleadsSearchText:{reducer:function(e,a){e.searchText=a.payload},prepare:function(e){return{payload:e.target.value||""}}},openNewLeadsDialog:function(e,a){e.leadsDialog={type:"new",props:{open:!0},data:null}},closeNewLeadsDialog:function(e,a){e.leadsDialog={type:"new",props:{open:!1},data:null}},openEditLeadsDialog:function(e,a){e.leadsDialog={type:"edit",props:{open:!0},data:a.payload}},closeEditLeadsDialog:function(e,a){e.leadsDialog={type:"edit",props:{open:!1},data:null}}},extraReducers:(n={},Object(P.a)(n,H.pending,(function(e,a){e.status="loading"})),Object(P.a)(n,H.fulfilled,(function(e,a){e.status="succeeded";var t=a.payload,n=t.data,r=t.routeParams;T.setAll(e,n),e.routeParams=r,e.searchText=""})),n)})),F=D.actions,_=F.setleadsSearchText,z=(F.openNewLeadsDialog,F.closeNewLeadsDialog,F.openEditLeadsDialog,F.closeEditLeadsDialog,D.reducer);var B=function(e){var a=Object(m.c)(),t=Object(m.d)((function(e){return e.leadsApp.leads.searchText})),n=Object(m.d)(y.e);return u.a.createElement("div",{className:"flex flex-1 items-center justify-between p-4 sm:p-24"},u.a.createElement("div",{className:"flex flex-shrink items-center sm:w-224"},u.a.createElement("div",{className:"flex items-center"},u.a.createElement(E.a,{animation:"transition.expandIn",delay:300},u.a.createElement(j.a,{className:"text-32"},"account_box")),u.a.createElement(E.a,{animation:"transition.slideLeftIn",delay:300},u.a.createElement(w.a,{variant:"h6",className:"mx-12 hidden sm:flex"},"Leads")))),u.a.createElement("div",{className:"flex flex-1 items-center justify-center px-8 sm:px-12"},u.a.createElement(x.a,{theme:n},u.a.createElement(E.a,{animation:"transition.slideLeftIn",delay:300},u.a.createElement(O.a,{className:"flex p-4 items-center w-full max-w-512 h-48 px-8 py-4 rounded-8",elevation:1},u.a.createElement(j.a,{color:"action"},"search"),u.a.createElement(N.a,{placeholder:"Search for anything",className:"flex flex-1 px-16",disableUnderline:!0,fullWidth:!0,value:t,inputProps:{"aria-label":"Search"},onChange:function(e){return a(_(e))}}))))))},U=t(1364),W=t.n(U),G=t(28),J=t(1235),V=t(645),K=t(1226),X=t(1205),Y=t(430),q=t(1157);var Q=function(e){var a=Object(m.d)((function(e){return e.auth.user})),t=Object(m.c)(),n=e.selectedLeadIds,r=Object(d.useState)(null),l=Object(s.a)(r,2),c=l[0],o=l[1];function i(){o(null)}return"AsCustomer"===a.role?"":u.a.createElement(u.a.Fragment,null,u.a.createElement(V.a,{className:"p-0","aria-owns":c?"selectedLeadsMenu":null,"aria-haspopup":"true",onClick:function(e){o(e.currentTarget)}},u.a.createElement(j.a,null,"more_horiz")),u.a.createElement(Y.a,{id:"selectedLeadsMenu",anchorEl:c,open:Boolean(c),onClose:i},u.a.createElement(q.a,null,u.a.createElement(h.a,{onClick:function(){t(R(n)),i()}},u.a.createElement(K.a,{className:"min-w-40"},u.a.createElement(j.a,null,"delete")),u.a.createElement(X.a,{primary:"Remove"})))))},Z=t(12),$=t(173),ee=t(1208),ae=t(1317),te=t(1320),ne=t(1308),re=t(1363),le=t(1318),ce=t(1476),se=t(1319),oe=t(1552),ie=t(1343),de=t(2),ue=t(1283),me=t.n(ue),pe=t(1269),fe=t.n(pe),be=t(1268),ge=t.n(be),he=t(1282),ve=t.n(he),Ee=t(44),je=function(e){var a=Object(Ee.a)(),t=e.count,n=e.page,r=e.rowsPerPage,l=e.onChangePage;return u.a.createElement("div",{className:"flex-shrink-0 px-12 overflow-hidden"},u.a.createElement(V.a,{onClick:function(e){l(e,0)},disabled:0===n,"aria-label":"first page"},"rtl"===a.direction?u.a.createElement(ve.a,null):u.a.createElement(me.a,null)),u.a.createElement(V.a,{onClick:function(e){l(e,n-1)},disabled:0===n,"aria-label":"previous page"},"rtl"===a.direction?u.a.createElement(ge.a,null):u.a.createElement(fe.a,null)),u.a.createElement(V.a,{onClick:function(e){l(e,n+1)},disabled:n>=Math.ceil(t/r)-1,"aria-label":"next page"},"rtl"===a.direction?u.a.createElement(fe.a,null):u.a.createElement(ge.a,null)),u.a.createElement(V.a,{onClick:function(e){l(e,Math.max(0,Math.ceil(t/r)-1))},disabled:n>=Math.ceil(t/r)-1,"aria-label":"last page"},"rtl"===a.direction?u.a.createElement(me.a,null):u.a.createElement(ve.a,null)))},Ne=u.a.forwardRef((function(e,a){var t=e.indeterminate,n=Object($.a)(e,["indeterminate"]),r=u.a.useRef(),l=a||r;return u.a.useEffect((function(){l.current.indeterminate=t}),[l,t]),u.a.createElement(u.a.Fragment,null,u.a.createElement(ee.a,Object.assign({ref:l},n)))})),Oe=function(e){var a=e.columns,t=e.data,n=(e.onRowClick,Object(ie.useTable)({columns:a,data:t,autoResetPage:!0},ie.useGlobalFilter,ie.useSortBy,ie.usePagination,ie.useRowSelect,(function(e){e.allColumns.push((function(e){return[{id:"selection",sortable:!1,Header:function(e){var a=e.getToggleAllRowsSelectedProps;return u.a.createElement("div",null,u.a.createElement(Ne,a()))},Cell:function(e){var a=e.row;return u.a.createElement("div",null,u.a.createElement(Ne,Object.assign({},a.getToggleRowSelectedProps(),{onClick:function(e){return e.stopPropagation()}})))}}].concat(Object(Z.a)(e))}))}))),r=n.getTableProps,l=n.headerGroups,c=n.prepareRow,s=n.page,o=n.gotoPage,i=n.setPageSize,d=n.state,m=d.pageIndex,p=d.pageSize;return u.a.createElement("div",{className:"flex flex-col min-h-full sm:border-1 sm:rounded-16 overflow-hidden"},u.a.createElement(re.a,{className:"flex flex-1"},u.a.createElement(ae.a,Object.assign({},r(),{stickyHeader:!0}),u.a.createElement(le.a,null,l.map((function(e){return u.a.createElement(se.a,e.getHeaderGroupProps(),e.headers.map((function(e){return u.a.createElement(ne.a,Object.assign({className:"whitespace-no-wrap p-4 md:p-12"},e.sortable?e.getHeaderProps(e.getSortByToggleProps()):e.getHeaderProps()),e.render("Header"),e.sortable?u.a.createElement(oe.a,{active:e.isSorted,direction:e.isSortedDesc?"desc":"asc"}):null)})))}))),u.a.createElement(te.a,null,s.map((function(e,a){return c(e),u.a.createElement(se.a,Object.assign({},e.getRowProps(),{className:"truncate cursor-pointer"}),e.cells.map((function(e){return u.a.createElement(ne.a,Object.assign({},e.getCellProps(),{className:Object(de.default)("p-4 md:p-12",e.column.className)}),e.render("Cell"))})))}))))),u.a.createElement(ce.a,{component:"div",classes:{root:"flex-shrink-0 border-t-1"},rowsPerPageOptions:[5,10,25,100,{label:"All",value:t.length+1}],colSpan:5,count:t.length,rowsPerPage:p,page:m,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!1},onChangePage:function(e,a){o(a)},onChangeRowsPerPage:function(e){i(Number(e.target.value))},ActionsComponent:je}))};var xe=function(e){var a=Object(m.c)(),t=Object(m.d)(M),n=Object(m.d)((function(e){return e.leadsApp.leads.status})),r=Object(m.d)((function(e){return e.leadsApp.leads.searchText})),l=Object(m.d)((function(e){return e.leadsApp.user})),c=u.a.useState({loading:!1}),o=Object(s.a)(c,2),i=(o[0],o[1]),p=Object(d.useState)(null),f=Object(s.a)(p,2),b=f[0],g=f[1],h=u.a.useMemo((function(){return[{Header:function(e){var a=e.selectedFlatRows,t=a.map((function(e){return e.original.id}));return a.length>0&&u.a.createElement(Q,{selectedLeadIds:t})},accessor:"avatar",Cell:function(e){var a=e.row;return u.a.createElement(J.a,{className:"mx-8",alt:a.original.name,src:a.original.avatar})},className:"justify-center",width:64,sortable:!1},{Header:"Email",accessor:"email",className:"font-bold",sortable:!0},{Header:"Title",accessor:"Title",className:"font-bold",sortable:!0},{Header:"First Name",accessor:"firstName",className:"font-bold",sortable:!0},{Header:"Last Name",accessor:"lastName",className:"font-bold",sortable:!0},{Header:"Campaign Name",accessor:"campaignName",className:"font-bold",sortable:!0},{Header:"Phone",accessor:"phone",className:"font-bold",sortable:!0},{Header:"LinkedIn Url",accessor:"linkedinUrl",className:"font-bold",sortable:!0},{Header:"Company Name",accessor:"companyName",className:"font-bold",sortable:!0},{Header:"Icebreaker",accessor:"icebreaker",className:"font-bold",sortable:!0},{Header:"Job Title",accessor:"jobTitle",className:"font-bold",sortable:!0},{Header:"Website",accessor:"Website",className:"font-bold",sortable:!0},{Header:"Industry",accessor:"Industry",className:"font-bold",sortable:!0},{Header:"LinkedIn",accessor:"LinkedIn",className:"font-bold",sortable:!0},{Header:"Full Name",accessor:"fullName",className:"font-bold",sortable:!0},{Header:"Location",accessor:"Location",className:"font-bold",sortable:!0},{Header:"Sent Step",accessor:"sentStep",className:"font-bold",sortable:!0},{Header:"Sent At",accessor:"sentAt",className:"font-bold",sortable:!0},{Header:"Replied At",accessor:"repliedAt",className:"font-bold",sortable:!0},{Header:"Opened At",accessor:"openedAt",className:"font-bold",sortable:!0},{Header:"Boounced At",accessor:"bouncedAt",className:"font-bold",sortable:!0},{Header:"Unsubscribed At",accessor:"unsubscribedAt",className:"font-bold",sortable:!0},{Header:"Clicked At",accessor:"clickedAt",className:"font-bold",sortable:!0},{Header:"Gmail Label",accessor:"flag",className:"font-bold",sortable:!0}]}),[a,l.starred]);return Object(d.useEffect)((function(){var e;i({loading:!0}),t&&(t.length>0&&i({loading:!1}),g(0===(e=r).length?t:G.a.filterArrayByString(t,e)))}),[t,r]),b?(console.log("============================================"),console.log(n),0===b.length?"loading"===n?u.a.createElement(W.a,{type:"Puff",color:"#00BFFF",height:100,width:100}):u.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full"},u.a.createElement(w.a,{color:"textSecondary",variant:"h5"},"There are no Leads!")):"loading"===n?u.a.createElement(W.a,{type:"Puff",color:"#00BFFF",height:100,width:100}):u.a.createElement(E.a,{animation:"transition.slideUpIn",delay:300},u.a.createElement(Oe,{columns:h,data:b}))):null};t(97),t(1225),t(1158),t(1159),Object(g.a)((function(e){return{listItem:{color:"inherit!important",textDecoration:"none!important",height:40,width:"calc(100% - 16px)",borderRadius:"0 20px 20px 0",paddingLeft:24,paddingRight:12,"&.active":{backgroundColor:e.palette.secondary.main,color:"".concat(e.palette.secondary.contrastText,"!important"),pointerEvents:"none","& .list-item-icon":{color:"inherit"}},"& .list-item-icon":{marginRight:16}}}}));var we=t(108),ye=Object(we.c)({leads:z,user:k}),Pe=(t(1437),Object(g.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})));a.default=Object(i.a)("leadsApp",ye)((function(e){var a=Object(m.d)((function(e){return e.auth.user})),t=Object(m.c)(),n=Pe(),r=u.a.useState(""),i=Object(s.a)(r,2),g=i[0],E=i[1],j=u.a.useState([]),N=Object(s.a)(j,2),O=(N[0],N[1]),x=Object(d.useRef)(null),w=Object(p.j)(),y=Object(p.h)();return Object(d.useEffect)((function(){Object(c.a)(l.a.mark((function e(){var a,t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("token"),e.next=3,fetch("".concat("http://13.58.82.135/api/api/","leads/allCampaigns"),{headers:{Authorization:a}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,r=n.data,E(r);case 9:case"end":return e.stop()}}),e)})))()}),[]),Object(f.b)((function(){t(H(w)),t(C())}),[t,w]),console.log("=========================================="),console.log(a),u.a.createElement(u.a.Fragment,null,u.a.createElement(o.a,{classes:{contentWrapper:"p-0 sm:p-24 h-full",content:"flex flex-col h-full",leftSidebar:"w-256 border-0",header:"min-h-72 h-72 sm:h-136 sm:min-h-136",wrapper:"min-h-0"},header:u.a.createElement(B,{pageLayout:x}),content:g.length<=0?"":u.a.createElement(u.a.Fragment,null,u.a.createElement(v.a,{className:n.formControl},u.a.createElement(b.a,{value:w.id,onChange:function(e){O(e.target.value),y.push("/apps/leads/".concat(e.target.value))},displayEmpty:!0,className:"campaigndropdown",inputProps:{"aria-label":""}},u.a.createElement(h.a,{value:"",disabled:!0},"Select Campaign"),g&&g.map((function(e,a){return u.a.createElement(h.a,{key:a,value:e._id},e.name)})))),u.a.createElement(xe,null)),sidebarInner:!0,ref:x,innerScroll:!0}))}))}}]);