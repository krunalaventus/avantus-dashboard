(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[108],{1436:function(e,a,t){"use strict";t.d(a,"a",(function(){return m}));var n=t(13),r=t(0),l=t.n(r),c=t(1196),o=t(1199),s=t(646),i=t(650),u=t(37),d=Object(c.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));function m(e){var a=e.items,t=void 0===a?[]:a;e.fetchSelected;console.log("Data",t);var r=d(),c=l.a.useState(""),m=Object(n.a)(c,2),f=m[0],p=(m[1],Object(u.h)());return l.a.createElement("div",null,l.a.createElement(s.a,{className:r.formControl},l.a.createElement(i.a,{value:f,onChange:function(e){console.log(e),p.push("/apps/dashboards/analytics/".concat(e.target.value),!0),window.location.reload(!1)},displayEmpty:!0,className:r.selectEmpty,inputProps:{"aria-label":""}},l.a.createElement(o.a,{value:"",disabled:!0},"Select Campaign"),t&&t.map((function(e,a){return l.a.createElement(o.a,{key:a,value:e._id},e.name)})))))}},1597:function(e,a,t){"use strict";t.d(a,"a",(function(){return l})),t.d(a,"d",(function(){return c})),t.d(a,"b",(function(){return o})),t.d(a,"c",(function(){return s}));var n=t(0),r=(t(3),n.createContext(null));function l(e){var a=e.children,t=e.value,l=function(){var e=n.useState(null),a=e[0],t=e[1];return n.useEffect((function(){t("mui-p-".concat(Math.round(1e5*Math.random())))}),[]),a}(),c=n.useMemo((function(){return{idPrefix:l,value:t}}),[l,t]);return n.createElement(r.Provider,{value:c},a)}function c(){return n.useContext(r)}function o(e,a){return null===e.idPrefix?null:"".concat(e.idPrefix,"-P-").concat(a)}function s(e,a){return null===e.idPrefix?null:"".concat(e.idPrefix,"-T-").concat(a)}},1598:function(e,a,t){"use strict";var n=t(1),r=t(4),l=t(0),c=(t(3),t(1232)),o=t(1597),s=l.forwardRef((function(e,a){var t=e.children,s=Object(r.a)(e,["children"]),i=Object(o.d)();if(null===i)throw new TypeError("No TabContext provided");var u=l.Children.map(t,(function(e){return l.cloneElement(e,{"aria-controls":Object(o.b)(i,e.props.value),id:Object(o.c)(i,e.props.value)})}));return l.createElement(c.a,Object(n.a)({},s,{ref:a,value:i.value}),u)}));a.a=s},1599:function(e,a,t){"use strict";var n=t(1),r=t(4),l=t(0),c=(t(3),t(2)),o=t(8),s=t(1597),i=l.forwardRef((function(e,a){var t=e.children,o=e.className,i=e.classes,u=e.value,d=Object(r.a)(e,["children","className","classes","value"]),m=Object(s.d)();if(null===m)throw new TypeError("No TabContext provided");var f=Object(s.b)(m,u),p=Object(s.c)(m,u);return l.createElement("div",Object(n.a)({"aria-labelledby":p,className:Object(c.default)(i.root,o),hidden:u!==m.value,id:f,ref:a,role:"tabpanel"},d),u===m.value&&t)}));a.a=Object(o.a)((function(e){return{root:{padding:e.spacing(3)}}}),{name:"MuiTabPanel"})(i)},2681:function(e,a,t){"use strict";t.r(a);var n=t(19),r=t.n(n),l=t(42),c=t(13),o=t(125),s=t(242),i=t(0),u=t.n(i),d=t(5),m=t(7),f=t(37),p=t(108),v=t(29),b=t(20),E=t(46),x=t.n(E),w=Object(b.b)("analyticsDashboardApp/widgets/getWidgets",Object(l.a)(r.a.mark((function e(){var a,t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/analytics-dashboard-app/widgets");case 2:return a=e.sent,e.next=5,a.data;case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))),h=Object(b.c)({}),g=h.getSelectors((function(e){return e.analyticsDashboardApp.widgets})),j=g.selectEntities,N=(g.selectById,Object(b.d)({name:"analyticsDashboardApp/widgets",initialState:h.getInitialState({}),reducers:{},extraReducers:Object(v.a)({},w.fulfilled,h.setAll)}).reducer),O=Object(p.c)({widgets:N}),C=t(1228),y=t(44),k=t(209),S=t(139);var A=u.a.memo((function(e){Object(y.a)();var a=m.a.merge({},e.data);return u.a.createElement(C.a,{className:"w-full rounded-8 shadow-1"},u.a.createElement("div",{className:"p-16 pb-0 flex flex-row flex-wrap items-end"},u.a.createElement("div",{className:""},u.a.createElement(k.a,{className:"h3",color:"textSecondary"},"Total Contacts"),u.a.createElement(k.a,{className:"text-40 font-300 leading-none mt-8"},a.totalCount),u.a.createElement("br",null),u.a.createElement("br",null))))}));var D=u.a.memo((function(e){Object(y.a)();var a,t,n=m.a.merge({},e.data),r=Math.round(null!==(a=(null!==(t=n.openedCount)&&void 0!==t?t:0)/n.totalCount)&&void 0!==a?a:0);return u.a.createElement(C.a,{className:"w-full rounded-8 shadow-1"},u.a.createElement("div",{className:"p-16 pb-0 flex flex-row flex-wrap items-end"},u.a.createElement("div",{className:""},u.a.createElement(k.a,{className:"h3",color:"textSecondary"},"Opened"),u.a.createElement(k.a,{className:"text-40 font-300 leading-none mt-8"},n.openedCount," / ",r,"%"))))}));var P=u.a.memo((function(e){Object(y.a)();var a,t,n=m.a.merge({},e.data),r=Math.round(null!==(a=(null!==(t=n.repliedCount)&&void 0!==t?t:0)/n.totalCount)&&void 0!==a?a:0);return u.a.createElement(C.a,{className:"w-full rounded-8 shadow-1"},u.a.createElement("div",{className:"p-16 pb-0 flex flex-row flex-wrap items-end"},u.a.createElement("div",{className:""},u.a.createElement(k.a,{className:"h3",color:"textSecondary"},"Replied"),u.a.createElement(k.a,{className:"text-40 font-300 leading-none mt-8"},n.repliedCount," / ",r,"%"))))})),T=t(9),I=t(1202),M=t(85);var R=u.a.memo((function(e,a){console.log("New Props",e);var t=u.a.useState(),n=Object(c.a)(t,2),o=n[0],s=n[1];Object(i.useEffect)((function(){Object(l.a)(r.a.mark((function a(){var t,n,l,c,o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=localStorage.getItem("token"),a.next=3,fetch("".concat("http://13.58.82.135:9978/api/","leads/getGraphData/").concat(null!==(t=e.data)&&void 0!==t?t:0),{headers:{Authorization:n}});case 3:return l=a.sent,a.next=6,l.json();case 6:c=a.sent,o=c.data,s(o);case 9:case"end":return a.stop()}}),a)})))()}),[]);var d=Object(y.a)(),f=Object(i.useState)("today"),p=Object(c.a)(f,2),v=p[0],b=p[1];return void 0!==o&&null!==o?(m.a.setWith(o,"options.scales.xAxes[0].ticks.fontColor",d.palette.text.secondary),m.a.setWith(o,"options.scales.yAxes[0].ticks.fontColor",d.palette.text.secondary),m.a.setWith(o,"options.scales.yAxes[0].gridLines.color",Object(M.fade)(d.palette.text.secondary,.1)),u.a.createElement(C.a,{className:"w-full rounded-8 shadow-1"},u.a.createElement("div",{className:"relative p-24 flex flex-row items-center justify-between"},u.a.createElement("div",{className:"flex flex-col"},u.a.createElement(k.a,{className:"h3 sm:h2"},"Count of Sent At/Count of Replied At")),u.a.createElement("div",{className:"flex flex-row items-center"},Object.keys(o.datasets).map((function(e){return u.a.createElement(I.a,{key:e,className:"py-8 px-12",size:"small",onClick:function(){return b(e)},disabled:e===v},e)})))),u.a.createElement(k.a,{className:"relative h-200 sm:h-320 sm:pb-16"},u.a.createElement(S.Line,{data:{labels:o.labels,datasets:o.datasets[v].map((function(e,a){var t=d.palette[0===a?"primary":"secondary"];return Object(T.a)(Object(T.a)({},e),{},{borderColor:t.main,backgroundColor:t.main,pointBackgroundColor:t.dark,pointHoverBackgroundColor:t.main,pointBorderColor:t.contrastText,pointHoverBorderColor:t.contrastText})}))},options:o.options})))):""})),B=t(1196),W=t(1219),z=t(1231),F=t(1597),G=t(1598),H=t(1599),J=Object(B.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));function L(){var e=J(),a=u.a.useState("1"),t=Object(c.a)(a,2),n=t[0],r=t[1];return u.a.createElement("div",{className:e.root},u.a.createElement(F.a,{value:n},u.a.createElement(W.a,{position:"static"},u.a.createElement(G.a,{onChange:function(e,a){r(a)},"aria-label":"simple tabs example"},u.a.createElement(z.a,{label:"Positive Response",value:"1"}),u.a.createElement(z.a,{label:"Referral",value:"2"}),u.a.createElement(z.a,{label:"Deferred Interest",value:"3"}),u.a.createElement(z.a,{label:"Polite Decline",value:"4"}))),u.a.createElement(H.a,{value:"1"},"No Data Found"),u.a.createElement(H.a,{value:"2"},"No Data Found"),u.a.createElement(H.a,{value:"3"},"No Data Found"),u.a.createElement(H.a,{value:"4"},"No Data Found")))}var U=u.a.memo((function(e){Object(y.a)();var a=m.a.merge({},e.data),t=Math.round(100*a.clickedCount/a.totalCount);return u.a.createElement(C.a,{className:"w-full rounded-8 shadow-1"},u.a.createElement("div",{className:"p-16 pb-0 flex flex-row flex-wrap items-end"},u.a.createElement("div",{className:""},u.a.createElement(k.a,{className:"h3",color:"textSecondary"},"Clicked"),u.a.createElement(k.a,{className:"text-40 font-300 leading-none mt-8"},a.clickedCount," / ",u.a.createElement("br",null)," ",t,"%"))))})),_=t(1436);a.default=Object(s.a)("analyticsDashboardApp",O)((function(){var e=Object(d.c)(),a=u.a.useState([]),t=Object(c.a)(a,2),n=t[0],s=t[1],p=u.a.useState(0),v=Object(c.a)(p,2),b=(v[0],v[1]),E=u.a.useState(""),x=Object(c.a)(E,2),h=x[0],g=x[1],N=Object(d.d)(j),O=u.a.useState(!1),C=Object(c.a)(O,2),y=(C[0],C[1],Object(f.j)());return Object(i.useEffect)((function(){Object(l.a)(r.a.mark((function e(){var a,t,n,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("token"),e.next=3,fetch("".concat("http://13.58.82.135:9978/api/","leads/total/").concat("all"===y.id?0:y.id),{headers:{Authorization:a}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,l=n.data,s(l);case 9:case"end":return e.stop()}}),e)})))(),Object(l.a)(r.a.mark((function e(){var a,t,n,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("token"),e.next=3,fetch("".concat("http://13.58.82.135:9978/api/","leads/allCampaigns"),{headers:{Authorization:a}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,l=n.data,g(l);case 9:case"end":return e.stop()}}),e)})))()}),[]),Object(i.useEffect)((function(){e(w())}),[e]),m.a.isEmpty(N)?null:u.a.createElement("div",{className:"w-full"},u.a.createElement(o.a,{animation:"transition.slideUpIn",delay:200},u.a.createElement("div",{className:"flex flex-col md:flex-row sm:p-8 container"},u.a.createElement("div",{className:"flex flex-1 flex-col min-w-0"},u.a.createElement("div",{className:"flex flex-col sm:flex sm:flex-row pb-32"},u.a.createElement("div",{className:"widget sm:w-1/6 p-16"},u.a.createElement("div",{className:"widget"},u.a.createElement(_.a,{fetchSelected:function(e){return b(e)},items:h}))),u.a.createElement("div",{className:"widget sm:w-1/6 p-16"},u.a.createElement("div",{className:"widget"},u.a.createElement(A,{data:n})),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("div",{className:"widget"},u.a.createElement(D,{data:n}))),u.a.createElement("div",{className:"widget sm:w-1/6 p-16"},u.a.createElement("div",{className:"widget"},u.a.createElement(P,{data:n})),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("div",{className:"widget"},u.a.createElement(U,{data:n}))),u.a.createElement("div",{className:"widget sm:w-1/2 p-16"},u.a.createElement("div",{className:"widget w-full"},u.a.createElement(R,{data:y.id})))),u.a.createElement("div",null,u.a.createElement(L,null))))))}))}}]);